<div class="dashboard">
  <!-- Men칰 lateral -->
  <div class="side-menu" [class.open]="isMenuOpen">
    <div class="menu-header">
      <!-- <h3>Men칰</h3>-->
      <!-- 칈cono personalizado a la derecha -->
      <img src="assets\IIEG_Jalisco_2025.svg" alt="칈cono" class="menu-icon">
      <div class="close-icon" (click)="toggleMenu()">칑</div>
    </div>
    <!-- L칤nea de separaci칩n -->
    <div class="separator"></div>

    <!-- Bot칩n "Cerrar Sesi칩n" en la parte inferior -->
    <div class="logout-section">
      <button class="logout-button" (click)="logout()">
        <!--<span class="logout-icon">游뛁</span>  칈cono de logout -->
        <span class="logout-text">Cerrar Sesi칩n</span>
      </button>
    </div>
    
    <!--<a class="menu-item" (click)="logout()">Cerrar Sesi칩n</a>-->
  </div>

  <!-- Overlay para cerrar el men칰 -->
  <div class="overlay" [class.open]="isMenuOpen" (click)="toggleMenu()"></div>

  <!-- Barra superior -->
  <div class="top-bar">
    <!-- Men칰 hamburguesa -->
    <div class="hamburger-menu" (click)="toggleMenu()">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </div>

    <!-- T칤tulo del dashboard -->
    <h1>Dashboard</h1>
  </div>

  <!-- Contenido principal -->
  <div class="content" [class.menu-open]="isMenuOpen">
    <!-- Sincronizaci칩n de datos -->
    <div class="sync-section">
      <button (click)="syncData()" [disabled]="isSyncing">
        @if (isSyncing) {
          <span class="spinner"></span> <!-- Spinner -->
        } @else {
          <span>Sincronizar Datos</span>
        }
      </button>
      @if (syncMessage) {
        <div class="sync-message">{{ syncMessage }}</div>
      }
    </div>

    <!-- Filtros -->
    <div class="filters">
      <input [(ngModel)]="startYear" placeholder="A침o inicio" type="number">
      <input [(ngModel)]="endYear" placeholder="A침o fin" type="number">
      <input [(ngModel)]="startMonth" placeholder="Mes inicio" type="number">
      <input [(ngModel)]="endMonth" placeholder="Mes fin" type="number">
      <select [(ngModel)]="transportType">
        <option value="">Todos</option>
        <option *ngFor="let type of transportTypes" [value]="type">{{ type }}</option>
      </select>
      <button (click)="loadStats()">Aplicar Filtros</button>
    </div>

    <!-- Estad칤sticas -->
    <div class="stats">
      <!-- M칠tricas principales -->
      <div class="stat-card">
        <h3>Ingresos por Pasaje</h3>
        <p>{{ stats.totalRevenue | currency }}</p>
      </div>
      <div class="stat-card">
        <h3>Pasajeros Transportados</h3>
        <p>{{ stats.totalPassengers }}</p>
      </div>
      <div class="stat-card">
        <h3>Kil칩metros Recorridos</h3>
        <p>{{ stats.totalKilometers }} km</p>
      </div>
      <div class="stat-card">
        <h3>Longitud del Servicio</h3>
        <p>{{ stats.totalServiceLength }} km</p>
      </div>
      <div class="stat-card">
        <h3>Unidades en Operaci칩n</h3>
        <p>{{ stats.totalUnits }}</p>
      </div>

      <!-- Nuevas m칠tricas -->
      <div class="stat-card">
        <h3>L칤neas en Servicio</h3>
        <p>{{ stats.totalLines }}</p>
      </div>
      <div class="stat-card">
        <h3>Autobuses (L-V)</h3>
        <p>{{ stats.totalWeekdayBuses }}</p>
      </div>
      <div class="stat-card">
        <h3>Autobuses (S-D)</h3>
        <p>{{ stats.totalWeekendBuses }}</p>
      </div>
      <div class="stat-card">
        <h3>Pasajeros (Boleto Pagado)</h3>
        <p>{{ stats.totalPaidPassengers }}</p>
      </div>
      <div class="stat-card">
        <h3>Pasajeros (Cortes칤a)</h3>
        <p>{{ stats.totalCourtesyPassengers }}</p>
      </div>
      <div class="stat-card">
        <h3>Pasajeros (Descuento)</h3>
        <p>{{ stats.totalDiscountedPassengers }}</p>
      </div>
      <div class="stat-card">
        <h3>Rutas</h3>
        <p>{{ stats.totalRoutes }}</p>
      </div>
    </div>
  </div>
</div>